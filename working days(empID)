CREATE OR REPLACE FUNCTION GET_EMPLOYEE_WORKING_DAYS (
    P_EMPID IN NUMBER
) RETURN NUMBER IS
    V_START_DATE   DATE;
    V_WORKING_DAYS NUMBER;
BEGIN
    SELECT
        DOJ
    INTO V_START_DATE
    FROM
        EMPLOYEE
    WHERE
        EMPID = P_EMPID;
    V_WORKING_DAYS := TRUNC(SYSDATE - V_START_DATE);
    RETURN V_WORKING_DAYS;
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        RAISE_APPLICATION_ERROR(-20001, 'Employee not found');
END;
/
SELECT
    GET_EMPLOYEE_WORKING_DAYS(101) AS WORKING_DAYS
FROM
    DUAL;
